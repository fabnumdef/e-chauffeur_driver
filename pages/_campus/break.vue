<template>
  <main class="full-screen">
    <svg
      class="main-icon"
      width="82"
      height="99"
      viewBox="0 0 82 99"
      fill="none"
      xmlns="http://www.w3.org/2000/svg"
    >
      <path
        d="M78.2314 11.4838H74.9821L71.2902 2.77421C70.5756 1.08822 68.9317 0 67.1001 0H14.8999C13.0683 0 11.4244 1.08822 10.7098 2.77421L7.0179 11.4838H3.76855C1.68981 11.4838 0 13.1736 0 15.2524V23.8221C0 25.899 1.68981 27.5888 3.76855 27.5888H6.20365L15.3712 94.164C15.6796 96.4036 17.6185 98.0935 19.8812 98.0935H62.1207C64.3815 98.0935 66.3204 96.4036 66.6288 94.164L75.7964 27.5888H78.2314C80.3102 27.5888 82 25.899 82 23.8202V15.2524C82 13.1736 80.3102 11.4838 78.2314 11.4838ZM62.8315 93.6409C62.7836 93.9954 62.4771 94.2617 62.1188 94.2617H19.8812C19.5229 94.2617 19.2183 93.9954 19.1685 93.6409L10.0718 27.5888H71.9282L62.8315 93.6409ZM78.1682 23.757H3.83178V15.3156H8.27664H8.29579H46.8914C47.9489 15.3156 48.8072 14.4573 48.8072 13.3997C48.8072 12.3422 47.9489 11.4838 46.8914 11.4838H11.1811L14.2389 4.27051C14.35 4.00421 14.6106 3.83178 14.8999 3.83178H67.1001C67.3894 3.83178 67.6481 4.00421 67.7611 4.27051L70.8189 11.4838H62.2165C61.159 11.4838 60.3007 12.3422 60.3007 13.3997C60.3007 14.4573 61.159 15.3156 62.2165 15.3156H73.7061C73.708 15.3156 73.71 15.3156 73.7119 15.3156C73.7157 15.3156 73.7195 15.3156 73.7215 15.3156H78.1682V23.757Z"
        fill="white"
      />
      <path
        d="M41.0001 80.432C52.4092 80.432 61.6917 71.1495 61.6917 59.7404C61.6917 48.3313 52.4092 39.0488 41.0001 39.0488C29.5909 39.0488 20.3085 48.3313 20.3085 59.7404C20.3085 71.1495 29.5909 80.432 41.0001 80.432ZM41.0001 42.8806C50.2959 42.8806 57.8599 50.4445 57.8599 59.7404C57.8599 69.0363 50.2959 76.6002 41.0001 76.6002C31.7042 76.6002 24.1402 69.0363 24.1402 59.7404C24.1402 50.4445 31.7042 42.8806 41.0001 42.8806Z"
        fill="white"
      />
      <path
        d="M41 72.769C44.4792 72.769 47.7515 71.4144 50.2115 68.9525C52.6715 66.4906 54.028 63.2202 54.028 59.7409C54.028 56.2617 52.6735 52.9893 50.2115 50.5293C47.7515 48.0693 44.4792 46.7129 41 46.7129C37.5207 46.7129 34.2484 48.0674 31.7884 50.5293C29.3265 52.9874 27.9719 56.2598 27.9719 59.7409C27.9719 63.2221 29.3265 66.4925 31.7884 68.9525C34.2503 71.4125 37.5207 72.769 41 72.769ZM49.5487 56.3421C49.9721 57.4093 50.1962 58.5569 50.1962 59.739C50.1962 62.1952 49.2402 64.5057 47.5025 66.2415C45.7648 67.9773 43.4561 68.9353 41 68.9353C38.9078 68.9353 36.9249 68.2398 35.3098 66.9619C35.5148 64.0019 37.9882 61.6549 41 61.6549C44.7436 61.6568 47.9872 59.488 49.5487 56.3421ZM34.4974 53.2384C36.2351 51.5007 38.5438 50.5447 41 50.5447C43.0921 50.5447 45.0751 51.2401 46.6901 52.518C46.4851 55.4781 44.0117 57.825 41 57.825C37.2563 57.825 34.0127 59.9938 32.4513 63.1378C32.0279 62.0706 31.8037 60.923 31.8037 59.7409C31.8037 57.2848 32.7597 54.9742 34.4974 53.2384Z"
        fill="white"
      />
    </svg>
    <div class="half-screen">
      <p>
        Vous n'avez actuellement
        <strong>aucune course programmée.</strong>
        Revenez à la régulation ou
        mettez vous en pause.
      </p>
    </div>
    <ec-button @click.native="startBreak">
      Prendre une pause
    </ec-button>
  </main>
</template>

<script>
import { mapMutations, mapGetters } from 'vuex';
import campusLink from '~/helpers/generate-campus-link';
import ecButton from '~/components/elements/button.vue';

export default {
  components: {
    ecButton,
  },
  computed: {
    ...mapGetters({
      driverStatus: 'status/current',
      statusList: 'status/list',
      campus: 'context/campus',
    }),
  },
  methods: {
    ...mapMutations({
      setStatus: 'status/setStatus',
    }),
    startBreak() {
      this.setStatus(this.statusList.BREAK);
      this.$router.push(campusLink(this.campus.id, this.driverStatus));
    },
  },
};
</script>

<style lang="scss" scoped>
  @import "~assets/css/head";

  main {
    background-color: $orange;
    color: $white;
  }
</style>
